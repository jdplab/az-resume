<!DOCTYPE html>
<html>
<head>
  <title>Create New Blog</title>
  <!-- Include the Quill library -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
</head>
<body>
  <!-- Add input fields for the title and the description -->
  <input type="text" id="title" placeholder="Title">
  <input type="text" id="description" placeholder="Short Description">

  <!-- Create the editor container -->
  <div id="editor">
    <p>Hello World!</p>
  </div>

  <!-- Initialize Quill editor -->
  <script>
  const quill = new Quill('#editor', {
    theme: 'snow'
  });
  </script>

  <!-- Add the savePost function -->
  <script>
	function savePost() {
	  const title = document.getElementById('title').value;
	  const description = document.getElementById('description').value;
	  const html = quill.root.innerHTML;
	  fetch('https://jpolanskyresume-functionapp.azurewebsites.net/api/saveblog', {
		method: 'POST',
		headers: {
		  'Content-Type': 'application/json',
		  'Authorization': sessionStorage.getItem('id_token')
		},
		body: JSON.stringify({title: title, description: description, html: html})
	  })
	  .then(response => {
		if (response.ok) {
		  alert('Post saved successfully.');
		} else {
		  alert('Failed to save post.');
		}
	  });
	}
	</script>
</body>
</html>
